--- folder_comparator_v26.00.py Part 02/12
def calculate_hash(file_path, hash_algorithm='md5', block_size=65536):
    """Calculates the hash of a file using the specified algorithm (md5 or sha256)."""
    if hash_algorithm == 'md5':
        hasher = hashlib.md5()
    elif hash_algorithm == 'sha256':
        hasher = hashlib.sha256()
    else:
        return None # Should not happen with argparse choices

    try:
        with open(file_path, 'rb') as f:
            for block in iter(lambda: f.read(block_size), b''):
                hasher.update(block)
        return hasher.hexdigest()
    except Exception as e:
        return None # Indicate failure to calculate hash

